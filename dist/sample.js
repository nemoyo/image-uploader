(()=>{"use strict";const e=document.getElementById("loader-wrap"),t=document.getElementById("loader"),d=()=>{e.classList.remove("loader-wrap"),t.classList.remove("loader")},n=()=>{e.classList.add("loader-wrap"),t.classList.add("loader")},a=document.getElementById("result");a.classList.add("hide"),d();const s=document.getElementById("file-select"),l=document.getElementById("copylink-button");async function o(e){const t=new FormData;t.append("image",e);try{const d=await window.fetch("upload.php",{method:"POST",body:t}),n=await d.json();console.log(n),document.getElementById("file-input").classList.add("hide"),a.classList.remove("hide");const s=document.getElementById("preview"),l=new FileReader;l.onload=function(e){const t=e.target.result,d=document.createElement("img");d.setAttribute("width","400px"),d.src=t,s.appendChild(d)},l.readAsDataURL(e),document.getElementsByName("copylink").item(0).value=n,document.getElementById("result-status").innerHTML="Upload SuccessFully!"}catch(e){console.log(e)}}s.addEventListener("change",(()=>{n(),o(s.files[0]),d()})),l.addEventListener("click",(()=>{document.getElementsByName("copylink").item(0).select(),document.execCommand("copy")})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("uploadArea");e.addEventListener("dragover",(e=>{e.preventDefault(),e.target.classList.add("drag")})),e.addEventListener("dragleave",(e=>{e.target.classList.remove("drag")})),e.addEventListener("drop",(e=>{e.preventDefault(),n();const t=document.querySelectorAll('input[name="file"]');t.files=e.dataTransfer.files,o(t.files[0]),d()}))}))})();